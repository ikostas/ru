<!doctype html>
<html lang="ru" itemscope itemtype="http://schema.org/Person">
<head>

  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZGNX3QB8WF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-ZGNX3QB8WF');
</script>

            <meta charset="utf-8">
        <!-- Site Meta Data -->
        <title>Как передать много больших файлов</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="Константин Овчинников">

        <link rel="shortcut icon" href="/theme/images/logo3.ico">

        <!-- schema.org -->
        <meta itemprop="name" content="Настоящие изменения">
        <meta itemprop="image" content="/theme/images/logo3_small.png">
        <meta itemprop="description" content="">

        <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,700' rel='stylesheet' type='text/css'>
        <!-- Style Meta Data -->
        <link rel="stylesheet" href="./theme/css/style.css" type="text/css"/>
        <link rel="stylesheet" href="./theme/css/pygments.css" type="text/css"/>

        <!-- Feed Meta Data -->
            <link href="./feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
                  title="Настоящие изменения ATOM Feed"/>

        <!-- Twitter Feed -->
        <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="ikostas2">
        <meta name="twitter:image" content="">


    <meta name="twitter:creator" content="ikostas2">
    <meta name="twitter:url" content="./2021-02-ftp.html">
    <meta name="twitter:title" content="Настоящие изменения ~ Как передать много больших файлов">
    <meta name="twitter:description" content="Когда нет внешнего диска подходящего объёма, но есть лишний компьютер">

    <!-- Facebook Meta Data -->
    <meta property="og:title" content="Настоящие изменения ~ Как передать много больших файлов"/>
    <meta property="og:description" content="Когда нет внешнего диска подходящего объёма, но есть лишний компьютер"/>
    <meta property="og:image" content=""/>
</head>

<body>
<!-- Sidebar -->
<aside>
    <h1><a class="sitetitle" href=".">Настоящие изменения</a></h1>
        <p>Страница Константина Овчинникова</p>
		<p>
        <a href="."><img alt="Home" id="avatar" src="/theme/images/logo3_small.png"></a>
    <!-- Site search -->
<script async src="https://cse.google.com/cse.js?cx=83e5897c79a72ea3d"></script>
<div class="gcse-search"></div>

    <nav class="nav">
        <ul class="list-bare">

                <li><a class="nav__link" href="https://kovchinnikov.info">Блог</a></li>
                <li><a class="nav__link" href="https://kovchinnikov.info/tags.html">Темы записей блога</a></li>

                <li><a class="nav__link" href="./pages/main.html">Статьи и инструменты</a></li>

        </ul>
    </nav>

    <p class="social">
                <a href="https://twitter.com/ikostas2" target="_blank"><img alt="Twitter"
                        src="./theme/images/icons/twitter.png"></a>
                <a href="https://facebook.com/bizrealchanges/" target="_blank"><img alt="Facebook"
                        src="./theme/images/icons/facebook.png"></a>
                <a href="https://www.linkedin.com/in/konstantinovchinnikov/" target="_blank"><img alt="LinkedIn"
                        src="./theme/images/icons/linkedin.png"></a>
                <a href="https://www.youtube.com/channel/UCSWV-jXlrnxIMbAD-82_USg" target="_blank"><img alt="YouTube"
                        src="./theme/images/icons/youtube.png"></a>
                <a href="https://news.google.com/publications/CAAqBwgKMNDclQsw0_6sAw?oc=3&ceid=RU:ru" target="_blank"><img alt="GoogleNews"
                        src="./theme/images/icons/googlenews.png"></a>
                <a href="https://github.com/ikostas/" target="_blank"><img alt="GitHub"
                        src="./theme/images/icons/github.png"></a>
            <a href="./feeds/all.atom.xml" rel="alternate">
                <img alt="RSS" src="./theme/images/icons/rss.png"></a>
    </p>



</aside>

<!-- Content -->
<article>

    <section id="content">
        <article>
<!--End mc_embed_signup-->

            <h2 class="post_title post_detail"><a href="./2021-02-ftp.html" rel="bookmark" title="Permalink to Как передать много больших файлов">Как передать много больших файлов</a></h2>
            <div class="entry-content blog-post">
                <p>Удивительно, как возникла целая индустрия внешних жёстких дисков, хотя есть прямой способ переноса информации между компьютерами. К тому же, второй компьютер можно воспринимать как отдельный диск &ndash; например, для хранения бэкапа. Безусловно, если второго компьютера нет, внешние диски достаточно удобны. Для некоторых случаев &ndash; например, когда нужно загрузить другую операционную систему, работать в ней и сохранять файлы, почти незаменимы. Но так их мало кто использует, да и загрузить операционную систему можно по сети (правда, это требует больше телодвижений).</p>
<p>В начале 1970-х годов был изобретён протокол ftp, который расшифровывается как протокол передачи файлов, и в этом качестве он, как мне кажется, по-прежнему актуален. Появились сетевые файловые системы, но они поддерживаются не всеми операционными системами. Появились и протоколы синхронизации, но они выигрывают при передаче разницы между файлами. HTTP может быть быстрее, но он не всегда поддерживает продолжение передачи в случае ошибки.</p>
<p>Лично у меня часто возникает задача передать файлы на или с машины на Windows, на которую ничего нельзя поставить. Можно воспользоваться облачными сервисами (Dropbox, Yandex.Disk, Google Drive), но работа с ними ограничивается скоростью работы интернета, да и скоростью самого сервиса (и ещё есть лимит места на сервисе). А вот ftp в том виде, как будет описано ниже, позволяет передавать файлы внутри локальной сети на совсем других скоростях. И самый главный плюс: ftp не требует установки дополнительных программ для клиента.</p>
<p>Дальше вопрос экономии времени: если вы переносите файлы между двумя компьютерами через внешний диск, вы делаете две операции. Если вы копируете файл напрямую, вы делаете одну операцию.</p>
<p>Итак, ниже опишу, как поднять свой ftp-сервер на одной машине (с которой надо что-то скачать или на которую надо что-то передать) и как подключиться с другой машины. При этом на какой машине будет клиент, а на какой сервер &ndash; дело вкуса. Но сначала пару слов о безопасности. Всё безопасно, если:</p>
<ul>
<li>локальная сеть либо предполагает только проводное соединение, либо беспроводная сеть (wi-fi) защищена надёжным паролем с использованием безопасного протокола (на текущий момент это WPA2)</li>
<li>роутер не предполагает подключения по FTP извне, а также не предполагает управлением самим роутером извне</li>
</ul>
<p>Обычно это так по умолчанию. Если вы отклоняетесь от этих правил &ndash; надеюсь, вы знаете, что делаете.</p>
<p>Относительно скорости: скорость будет выше, если оба компьютера подключены по проводу к одному роутеру. Даже если wi-fi обещает заоблачные скорости,  по проводу будет стабильнее. Это важно, когда объём передаваемых файлов измеряется десятками гигабайт, либо количество файлов измеряется также десятками (либо и то, и другое). Но и с wi-fi будет работать, если роутер не полный хлам.</p>
<p>Если роутера нет, есть вариант соединения двух компьютеров напрямую кабелем, он тоже рабочий, но нужен специальный кабель, а IP-адреса нужно будет назначить вручную (тогда как роутер их раздаёт). Здесь я не будут на этом останавливаться.</p>
<p>Если у вас много файлов, особенно когда много вложенных каталогов, лучше подготовиться к передаче заранее и создать архив. С одном файлом будет быстрее, кроме того, проще убедиться, что он передан корректно (сравнить размер или сделать контрольную сумму). В случае windows можно воспользоваться и zip, но лучше 7z с небольшим уровнем компрессию. 7z часто бывает установлен (и виден в проводнике в контекстном меню). Если же его нет, и прав устанавливать программы тоже нет, можно воспользоваться <a href="https://portableapps.com/">Portableapps</a>.</p>
<p>Дальше вопрос, куда и какой ftp-сервер ставить. Если есть машина с linux, то можно установить vsftpd, он везде есть и нормально работает (в конфигурации надо изменить <code>write_enable=YES</code> и перезапустить его). Его отличительные черты: маленький и безопасный. Если машина с windows, можно поставить <a href="https://filezilla-project.org/">Filezilla FTP Server</a>.</p>
<p>Сначала лучше всего убедиться, что ftp-сервер работает, прямо с сервера. В случае windows можно взять браузер или Explorer (в них встроен ftp-клиент), в случае linux вместо Explorer можно использовать Nautilus, если у вас Gnome. Набираем <code>ftp://127.0.0.1</code>, вводим логин и пароль. Либо <code>ftp://&lt;логин&gt;@127.0.0.1</code>, поскольку некоторые программы пытаются по умолчанию подключиться анонимно, а это нам не нужно. Если всё работает, переходим к следующему шагу. Если подключения не происходит, значит, FTP-сервер не работает.</p>
<p>Следующим шагом надо узнать адрес ftp-сервера, чтобы знать, куда подключаться. В Windows есть простой способ: нажимаем пуск, запускаем <code>cmd</code>, в командной строке вводим <code>ipconfig/all</code>. В linux аналогичная команда в терминале: <code>ifconfig</code> (у разных адаптеров, проводного и беспроводного будет разный адрес, но с этим не очень сложно разобраться).</p>
<p>Дальше заходим с другой машины по найденному адресу на сервер: <code>ftp://&lt;логин&gt;@&lt;адрес&gt;</code>. Всё, можно передавать файлы (<code>Ctrl+C</code>, <code>Ctrl+V</code> или просто перетаскивать мышкой). Единственный момент, который здесь может возникнуть, это настройка firewall на сервере. Например, этот вопрос может возникнуть в Fedora, но есть инструкции, как это поправить (<a href="https://www.liquidweb.com/kb/how-to-install-and-configure-vsftpd-on-fedora-23/">например</a>).</p>
            </div>
            <div class="post_list">
                <a href="./author/konstantin-ovchinnikov.html">@Константин Овчинников</a> 
                <span class="post_date">Sun 28 February 2021</span>
                <div><span>Теги: </span>
                            <span><a href="./tag/linux.html">#linux </a></span>
                            <span><a href="./tag/produktivnost.html">#продуктивность </a></span>
                </div>
            </div>
                <div class="comments">
                    <h2>Комментарии</h2>
                    <div id="disqus_thread"></div>
                    <script type="text/javascript">
                        var disqus_identifier = "2021-02-ftp.html";
                        (function () {
                            var dsq = document.createElement('script');
                            dsq.type = 'text/javascript';
                            dsq.async = true;
                            dsq.src = 'https://realchanges.disqus.com/embed.js';
                            (document.getElementsByTagName('head')[0] ||
                            document.getElementsByTagName('body')[0]).appendChild(dsq);
                        })();
                    </script>
                </div>
        </article>
    </section>
</article>

<!-- Footer -->
    <footer>
        <p>
	  Создано с помощью <a href="http://getpelican.com/">Pelican</a>, 
      тема <a href="https://github.com/parbhat/pelican-blue">Pelican-Blue</a> от <a href="https://parbhatpuri.com/">@parbhat</a>, иконки с <a href="https://icons8.com/">icon8</a>. РФ 12+.
        </p>
    </footer>

    <!-- Analytics -->
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-44909202-3']);
        _gaq.push(['_trackPageview']);
        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>

</body>
</html>