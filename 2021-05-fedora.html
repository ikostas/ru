<!doctype html>
<html lang="ru" itemscope itemtype="http://schema.org/Person">
<head>
            <meta charset="utf-8">
        <!-- Site Meta Data -->
        <title>Linux, продвинутый уровень</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="Константин Овчинников">

        <link rel="shortcut icon" href="/theme/images/logo3.ico">

        <!-- schema.org -->
        <meta itemprop="name" content="Настоящие изменения">
        <meta itemprop="image" content="/theme/images/logo3_small.png">
        <meta itemprop="description" content="">

        <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,700' rel='stylesheet' type='text/css'>
        <!-- Style Meta Data -->
        <link rel="stylesheet" href="./theme/css/style.css" type="text/css"/>
        <link rel="stylesheet" href="./theme/css/pygments.css" type="text/css"/>

        <!-- Feed Meta Data -->
            <link href="./feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
                  title="Настоящие изменения ATOM Feed"/>

        <!-- Twitter Feed -->
        <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="ikostas2">
        <meta name="twitter:image" content="">


    <meta name="twitter:creator" content="ikostas2">
    <meta name="twitter:url" content="./2021-05-fedora.html">
    <meta name="twitter:title" content="Настоящие изменения ~ Linux, продвинутый уровень">
    <meta name="twitter:description" content="Новая серия метаний между дистрибутивами">

    <!-- Facebook Meta Data -->
    <meta property="og:title" content="Настоящие изменения ~ Linux, продвинутый уровень"/>
    <meta property="og:description" content="Новая серия метаний между дистрибутивами"/>
    <meta property="og:image" content=""/>
</head>

<body>
<!-- Sidebar -->
<aside>
    <h1><a class="sitetitle" href=".">Настоящие изменения</a></h1>
        <p>Страница Константина Овчинникова</p>
		<p>
        <a href="."><img alt="Home" id="avatar" src="/theme/images/logo3_small.png"></a>
    <!-- Site search -->
<script async src="https://cse.google.com/cse.js?cx=83e5897c79a72ea3d"></script>
<div class="gcse-search"></div>

    <nav class="nav">
        <ul class="list-bare">

                <li><a class="nav__link" href="https://kovchinnikov.info">Блог</a></li>
                <li><a class="nav__link" href="https://kovchinnikov.info/tags.html">Темы записей блога</a></li>

                <li><a class="nav__link" href="./pages/main.html">Статьи и инструменты</a></li>

        </ul>
    </nav>

    <p class="social">
                <a href="https://twitter.com/ikostas2" target="_blank"><img alt="Twitter"
                        src="./theme/images/icons/twitter.png"></a>
                <a href="https://facebook.com/bizrealchanges/" target="_blank"><img alt="Facebook"
                        src="./theme/images/icons/facebook.png"></a>
                <a href="https://www.linkedin.com/in/konstantinovchinnikov/" target="_blank"><img alt="LinkedIn"
                        src="./theme/images/icons/linkedin.png"></a>
                <a href="https://www.youtube.com/channel/UCSWV-jXlrnxIMbAD-82_USg" target="_blank"><img alt="YouTube"
                        src="./theme/images/icons/youtube.png"></a>
                <a href="https://news.google.com/publications/CAAqBwgKMNDclQsw0_6sAw?oc=3&ceid=RU:ru" target="_blank"><img alt="GoogleNews"
                        src="./theme/images/icons/googlenews.png"></a>
                <a href="https://github.com/ikostas/" target="_blank"><img alt="GitHub"
                        src="./theme/images/icons/github.png"></a>
            <a href="./feeds/all.atom.xml" rel="alternate">
                <img alt="RSS" src="./theme/images/icons/rss.png"></a>
    </p>



</aside>

<!-- Content -->
<article>

    <section id="content">
        <article>
<!--End mc_embed_signup-->

            <h2 class="post_title post_detail"><a href="./2021-05-fedora.html" rel="bookmark" title="Permalink to Linux, продвинутый уровень">Linux, продвинутый уровень</a></h2>
            <div class="entry-content blog-post">
                <p>Если помните, <a href="2021-04-ubuntusetup.html">последняя серия</a> закончилась на том, что мой личный комп отказался выключаться в Fedora (который я использовал на двух чужих компах до этого), поэтому я психанул и поставил Ubuntu. Которая мне так понравилась, что я поставил ещё и на комп дочери. Но реальность оказалась не такой радужной (в отличие от внешнего оформления):</p>
<ul>
<li>Софт, который пишут именно создатели Ubuntu, весь на соплях: трогаешь одно, отваливается всё остальное. На своём компе хотел удалить панель, система стала запрашивать пароль администратора постоянно, в т.ч. на подключение wi-fi. Пришлось терпеть панель, которая мне, в общем-то, не нужна.</li>
<li>Snapstore постоянно висит в памяти, и может выжрать хоть 8 Гб.</li>
<li>Chrome remote desktop, который мне так понравился, висит отдельной сессией, и приводит к отдельному вопросу при попытке перезагрузиться или выключить комп.</li>
</ul>
<p>Между тем, вышла Fedora 34, в которой:</p>
<ul>
<li>Gnome 4! Сразу могу сообщить, что вообще ничего революционного не увидел, но он просто работает.</li>
<li>btrfs по умолчанию; поскольку это файловая система со сжатием, ускорение чувствуется, но об этом чуть подробнее ниже.</li>
<li>Спокойное оформление всей системы и другой подход к написанию софта, который нужен именно для дистрибутива.</li>
</ul>
<p>Решение по переходу на Fedora далось непросто, также был вариант Debian, который был отвергнут:</p>
<ul>
<li>Придётся настраивать сглаживание шрифтов</li>
<li>Плохая поддержка оборудования</li>
<li>В целом плохо переносит добавление внешних репозиториев</li>
</ul>
<p>Fedora работает быстрее Debian, но ест больше оперативки. С которой сейчас проблем нет. Однако Fedora требует больше знаний, чем Ubuntu:</p>
<ul>
<li>Больше внимательности. Например, для записи образа установочной флешки на диск используется стандартный инструмент работы с дисками, который легко может записать вам ISO на диск с данными.</li>
<li>Работа в командной строке; в Ubuntu на каждый чих делают графический интерфейс; как и Open SuSe, кстати, которую тоже можно рассмотреть, если это критично.</li>
<li>Знание английского, так как документация на английском.</li>
</ul>
<p>Если вас это не пугает, могу сказать, что смысл есть. Но сначала про минусы:</p>
<ul>
<li>Chrome Remote Desktop не поддерживается, это понятно. Но также не поддерживается и Wayland в TeamViewer. Что с этим делать &ndash; да ничего.</li>
<li>Программы в Fedora не просто свежие, а очень свежие, поэтому могут легко падать; у меня почему-то падал Firefox (который мне нужен был, чтобы скачать Chrome),</li>
<li>Потенциально может мешать selinux; крайне желательно знать, как её отключить, но я пока не отключал; точно нужно отключать для использования VirtualBox.</li>
<li>Citrix Workspaces вроде и работает, но тоже глючит; этого же можно ожидать от многих других программ, от которых ждёшь совместимости с Windows и работоспособности;</li>
</ul>
<p>В итоге я установил Fedora на 5 компов, и могу сказать, что всё работает отлично: свой ноут, ноут дочери, на внешний HDD, старый комп, предыдущий комп супруги. Прирост скорости есть везде, но:</p>
<ul>
<li>На компе дочери и в Ubuntu не распознавался драйвер wi-fi карты, скачивал и устанавливал драйвер (потребуется ethernet-to-usb adapter); в этом случае решилось обновлением (<code>sudo dnf update</code>).</li>
<li>На старом компе (Core Duo, то есть 2 ядра, и 3 Гб оперативки) всё ворочалось быстрее, чем на Ubuntu, но в какой-то момент память закончилась; ну ничего, поставил xfce (<code>sudo dnf groupinstall -y "Xfce Desktop"</code>).</li>
<li>Minecraft оказалось лучше ставить всё же из snap; есть некий способ обойтись без snap, но результат оказался не очень (+ обновлять придётся вручную), да и телодвижений многовато.</li>
<li>С внешнего HDD (по ощущениям) ускорение чувствуется сильнее всего.</li>
</ul>
<p>Дальше пойдёт рассказ о настройках системы после установки, который я проделал на тех самых пяти компах с небольшими вариациями. Есть источники, которые раскрывают эту тему (<a href="https://www.debugpoint.com/2021/04/10-things-to-do-fedora-34-after-install/">раз</a>, <a href="https://fosspost.org/things-to-do-after-installing-fedora-34/">два</a>, <a href="https://www.fosslinux.com/46272/things-to-do-after-installing-fedora-workstation.htm">три</a>), но у меня получилось немного по-другому, и по ходу дела будут пояснения, почему так. Тем, кто хочет узнать подробнее, что такое linux, думаю, будет интересно почитать с точки зрения "насколько всё страшно".</p>
<ol>
<li>Включаем плагины пакетного менеджера dnf fastestmirror и deltarpm, которые должны увеличить скорость скачивания; вроде логично это делать до обновления системы; можно ещё увеличить количество потоков скачивания, но я этого не делал. Всё очень просто, <a href="https://gist.github.com/cho2/2d8682b60aaeabf3fa8c151bf2162e27">добавляем две строки с настройками</a> в dnf.conf.</li>
<li>Удаляем лишнее до обновления, чтобы не обновлять то, что собираемся удалить. Себе удаляю LibreOffice, однако это не так просто, если не знать названия пакета: <code>sudo dnf remove libreoffice-core</code></li>
<li>Обновляем систему и перезагружаемся (потому что будет обновлено ядро): <code>sudo dnf update</code></li>
<li><a href="https://rpmfusion.org/Configuration/">Добавляем rpm-fusion</a> для vlc (также там есть драйвера nvidia, если кому нужно, и VirtualBox). В командной строке это делается одной командой (<code>sudo dnf install https://mirrors.rpmfusion.org/free/fedora/rpmfusion-free-release-$(rpm -E %fedora).noarch.rpm https://mirrors.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-$(rpm -E %fedora).noarch.rpm</code>)</li>
<li>Устанавливаем vlc, поскольку это избавляет от скачивания кучи кодеков: <code>sudo dnf install vlc</code></li>
<li>Скачиваем rpm с Chrome, Zoom, Mailspring (почта) с соответствующих сайтов и устанавливаем (например, <code>sudo dnf install *.rpm</code>, если всё в одном каталоге)</li>
<li>Ставим Unite &ndash; расширение Gnome, которое добавляет места, убирая заголовки, ну и много чего другого полезного.</li>
<li>В настройках Gnome рекомендую включить Tap to click для ноута (в настроках мыши) и отключить блокировку экрана (а то блокирует каждые 5 минут). Также можно включить Night light, чтобы вечером (после захода солнца) цвета дисплея были более тёплыми (это всё в настройках дисплея).</li>
<li>Есть достаточно неприятный баг с PackageKit, который мешает перезагрузке. Нужен этот пакет для установки дополнительных кодеков, но поскольку мы поставили vlc (в котором все кодеки есть), его можно спокойно удалить. Лично я его выпилил вместе с gnome-software (всё равно пользуюсь dnf) и simple-scan (если нужен будет, можно установить отдельно): <code>sudo dnf remove PackageKit\*</code>.</li>
<li>Minecraft через snap ставится стандартно, сначала snap, потом Minecraft: <code>sudo dnf install snapd &amp;&amp; sudo snap install mc-installer</code>. Потом надо перезагрузиться, и он появится.</li>
</ol>
<p>Да, я перешёл на Mailpsring для почты. Geary в Fedora, к сожалению, у меня вылетала постоянно на одном письме. Evolution просто устарел. Ну а Mailspring &ndash; это чистый интерфейс, быстрая и стабильная работа.</p>
<p>На этом пока всё, вроде полёт нормальный.</p>
            </div>
            <div class="post_list">
                <a href="./author/konstantin-ovchinnikov.html">@Константин Овчинников</a> 
                <span class="post_date">Пн 31 мая 2021</span>
                <div><span>Теги: </span>
                            <span><a href="./tag/produktivnost.html">#продуктивность </a></span>
                            <span><a href="./tag/linux.html">#linux </a></span>
                </div>
            </div>
                <div class="comments">
                    <h2>Комментарии</h2>
                    <div id="disqus_thread"></div>
                    <script type="text/javascript">
                        var disqus_identifier = "2021-05-fedora.html";
                        (function () {
                            var dsq = document.createElement('script');
                            dsq.type = 'text/javascript';
                            dsq.async = true;
                            dsq.src = 'https://realchanges.disqus.com/embed.js';
                            (document.getElementsByTagName('head')[0] ||
                            document.getElementsByTagName('body')[0]).appendChild(dsq);
                        })();
                    </script>
                </div>
        </article>
    </section>
</article>

<!-- Footer -->
    <footer>
        <p>
	  Создано с помощью <a href="http://getpelican.com/">Pelican</a>, 
      тема <a href="https://github.com/parbhat/pelican-blue">Pelican-Blue</a> от <a href="https://parbhatpuri.com/">@parbhat</a>, иконки с <a href="https://icons8.com/">icon8</a>. РФ 12+.
        </p>
    </footer>

    <!-- Analytics -->
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-44909202-3']);
        _gaq.push(['_trackPageview']);
        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>

</body>
</html>