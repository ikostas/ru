<!doctype html>
<html lang="ru" itemscope itemtype="http://schema.org/Person">
<head>

  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZGNX3QB8WF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-ZGNX3QB8WF');
</script>

            <meta charset="utf-8">
        <!-- Site Meta Data -->
        <title>Полная история удалённого доступа</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="Константин Овчинников">

        <link rel="shortcut icon" href="/theme/images/logo3.ico">

        <!-- schema.org -->
        <meta itemprop="name" content="Настоящие изменения">
        <meta itemprop="image" content="/theme/images/logo3_small.png">
        <meta itemprop="description" content="">

        <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,700' rel='stylesheet' type='text/css'>
        <!-- Style Meta Data -->
        <link rel="stylesheet" href="./theme/css/style.css" type="text/css"/>
        <link rel="stylesheet" href="./theme/css/pygments.css" type="text/css"/>

        <!-- Feed Meta Data -->
            <link href="./feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
                  title="Настоящие изменения ATOM Feed"/>

        <!-- Twitter Feed -->
        <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="ikostas2">
        <meta name="twitter:image" content="">


    <meta name="twitter:creator" content="ikostas2">
    <meta name="twitter:url" content="./2021-03-remote.html">
    <meta name="twitter:title" content="Настоящие изменения ~ Полная история удалённого доступа">
    <meta name="twitter:description" content="От управления серверами из командной строки до удалённой работы и поддержки">

    <!-- Facebook Meta Data -->
    <meta property="og:title" content="Настоящие изменения ~ Полная история удалённого доступа"/>
    <meta property="og:description" content="От управления серверами из командной строки до удалённой работы и поддержки"/>
    <meta property="og:image" content=""/>
</head>

<body>
<!-- Sidebar -->
<aside>
    <h1><a class="sitetitle" href=".">Настоящие изменения</a></h1>
        <p>Страница Константина Овчинникова</p>
		<p>
        <a href="."><img alt="Home" id="avatar" src="/theme/images/logo3_small.png"></a>
    <!-- Site search -->
<script async src="https://cse.google.com/cse.js?cx=83e5897c79a72ea3d"></script>
<div class="gcse-search"></div>

    <nav class="nav">
        <ul class="list-bare">

                <li><a class="nav__link" href="https://kovchinnikov.info">Блог</a></li>
                <li><a class="nav__link" href="https://kovchinnikov.info/tags.html">Темы записей блога</a></li>

                <li><a class="nav__link" href="./pages/main.html">Статьи и инструменты</a></li>

        </ul>
    </nav>

    <p class="social">
                <a href="https://twitter.com/ikostas2" target="_blank"><img alt="Twitter"
                        src="./theme/images/icons/twitter.png"></a>
                <a href="https://www.linkedin.com/in/konstantinovchinnikov/" target="_blank"><img alt="LinkedIn"
                        src="./theme/images/icons/linkedin.png"></a>
                <a href="https://www.youtube.com/channel/UCSWV-jXlrnxIMbAD-82_USg" target="_blank"><img alt="YouTube"
                        src="./theme/images/icons/youtube.png"></a>
                <a href="https://news.google.com/publications/CAAqBwgKMNDclQsw0_6sAw?oc=3&ceid=RU:ru" target="_blank"><img alt="GoogleNews"
                        src="./theme/images/icons/googlenews.png"></a>
                <a href="https://github.com/ikostas/" target="_blank"><img alt="GitHub"
                        src="./theme/images/icons/github.png"></a>
            <a href="./feeds/all.atom.xml" rel="alternate">
                <img alt="RSS" src="./theme/images/icons/rss.png"></a>
    </p>



</aside>

<!-- Content -->
<article>

    <section id="content">
        <article>
<!--End mc_embed_signup-->

            <h2 class="post_title post_detail"><a href="./2021-03-remote.html" rel="bookmark" title="Permalink to Полная история удалённого доступа">Полная история удалённого доступа</a></h2>
            <div class="entry-content blog-post">
                <p>Удалённый доступ к компьютерам когда-то был уделом администраторов, чтобы физически не заходить в серверную. В связи с Covid он всё больше используется "простыми смертными пользователями", чтобы меньше ездить, находить информацию на рабочем компьютере из дома. Лично мой сценарий использования &ndash; поддержка пользователей с минимальными усилиями с их стороны.</p>
<p>Итак, рассмотрим несколько способов удалённого доступа, все из которых являются рабочими и имеют свою сферу применения:</p>
<ul>
<li>SSH &ndash; для медленных каналов связи, рабочих станций для специализированных задач (из командной строки) и без графического интерфейса</li>
<li>TeamViewer лучше всего подходит для удалённой поддержки пользователей, в том числе тех, у которых ты ни разу не был</li>
<li>Google Remote Desktop, который я для себя открыл совсем недавно, работает как в режиме удалённой поддержки, так и постоянного удалённого подключения, с графическим интерфейсом и бесплатно</li>
</ul>
<p>Помимо этого есть другие решения: VNC, платные сервисы, RDP. У меня машины на разных операционных системах, поэтому не всё подошло. Но сначала вспомним, с чего всё начиналось, SSH.</p>
<p>Для упрощения буду называть машину, <strong>к которой</strong> подключаемся, хостом, а вторую, <strong>с которой</strong> подключаемся, клиентом.</p>
<h2>SSH</h2>
<p>Текстовая командная строка, какое убожество, скажут многие. Те, кто не знает о том, что есть ряд задач, которые делать в командной строке гораздо удобнее. Например, запускать скрипты, которые выполняют ресурсоёмкие задачи. Лично я пользуюсь для архивирования, перемещения и удаления файлов на хостинге, на котором работает этот сайт. Хост может работать только под Linux / unix-like. Для клиента под windows есть практически стандартная уже putty, а для других клиентов и ставить ничего не нужно.</p>
<p>У этого решения есть масса приятных нюансов:</p>
<ul>
<li>Скорее всего, стандартно в удалённом доступе будет bash, а это удобное авто-дополнение команд и имён файлов, работа с историей команд и скрипты.</li>
<li>Можно сделать ключ, и тогда пароль не нужен. Нужно один раз за сессию разблокировать связку ключей на клиенте.</li>
<li>Можно создать конфигурационный файл с полным именем хоста и подключаться к нему по сокращённому имени.</li>
<li>Можно использовать screen, который позволяет делать две вещи: не обрывать сессию при разрыве связи и делать много сессий внутри одной (работать в многозадачном режиме).</li>
<li>Предполагается, что вы вводите символ на клиенте, хост подтверждает ввод символа, после чего символ отображается на клиенте; это долго, и для этого придумали <a href="https://mosh.org/">mosh</a>; он существенно ускоряет ввод символов на клиенте.</li>
<li>В bash сидеть вовсе не обязательно, есть <a href="https://github.com/agarrharr/awesome-cli-apps">масса программ</a> (правда, на хостинге выбирать не приходится), от файловых менеджеров до почты, браузеров, редакторов и мессенджеров.</li>
<li>У сервера есть фиксированное имя и IP-адрес, а для домашних компьютеров, которые сидят за домашним роутером, есть сервисы Dynamic DNS; с помощью него вне зависимости от IP-адреса компьютера вы всегда работаете с одним именем; последний раз было что-то около $20 за 20 хостов в год.</li>
<li>Наконец, ssh можно стартовать автоматом при загрузке компьютера, он практически не ест ресурсов и со всех сторон безопасен (особенно при использовании ключа).</li>
<li>Если этого недостаточно, можно пускать обычный X session (графические приложения) через SSH. Но это только сценарий linux-linux и на хорошем соединении.</li>
</ul>
<p>Такой уникальный набор качеств (особенно соотношение ценности на затраты) привёл к тому, что SSH живее всех живых в наш век графических интерфейсов. По крайней мере, можно обновить всю систему и отредактировать файлы конфигурации. Если что-то настраивается через графический интерфейс, тогда либо пробрасывать X server, либо увы.</p>
<p>Скорее всего, стандартный домашний роутер не пропустит входящее SSH-соединение, поэтому нужно открыть нужный порт на роутере. Ну и вся схема может рухнуть, если кто-то сбросит настройки на роутере.</p>
<p>Но также прогресс привёл к тому, что всё больше пользователей стали работать за компьютерами (а не только старшие научные сотрудники), у них стали возникать проблемы.</p>
<h2>TeamViewer</h2>
<p>TeamViewer является одним из решений. Он бесплатен, популярен и сценарий его использования предельно прост: скачать, запустить, сказать код сотруднику поддержки (кто подключается), и вот он работает. Dynamic DNS не нужен. Сейчас он является кросс-платформенным, то есть можно с Linux поддерживать людей с Windows, наоборот и в любых комбинациях.</p>
<p>В целом сейчас любой инструмент видео-связи даёт возможность показать экран, и часто этого бывает достаточно (не надо скачивать, запускать и диктовать код).</p>
<p>Также я должен сказать про VNC и RDP. Клиент RDP встроен в Windows, поэтому вариант Windows-Windows работает прекрасно (Dynamic DNS нужен), также отлично работает хост Windows, клиент Linux. Лично работал так продолжительное время, очень удобно. А вот с вариантом "хост Linux" ждал облом, поскольку имеющийся сервер не работает с переключением на русский язык. Это прямо боль, но никто не поправил на текущий момент.</p>
<p>VNC, по сути, примерно то же самое, работает в любых вариантах, но требует установить VNC-клиент на клиент и VNC-сервер на хост.</p>
<h2>Google Remote Desktop</h2>
<p>Видимо, какие-то люди задумались о том, что дальше так продолжаться не может, и сделали нормальное бесплатное решение. Из недостатков только некритичные баги, которые вполне решаются поиском инструкций, а также то, что хост под Linux есть только под Ubuntu.</p>
<p>Зато в плюсе:</p>
<ul>
<li>На клиент ничего ставить не нужно, достаточно открыть Chrome, который и так уже есть. Можно поставить расширение для Chrome, чтобы всё работало ещё лучше. И вот, открываем Chrome под своим профилем и видим список (с названиями, заданными вами) подключённых к профилю машин со статусом (онлайн / офлайн).</li>
<li>Кросплатформенность в любых сочетаниях: клиент и хост на любой платформе.</li>
<li>Бесплатно; просто посмотрите цены на аналогичные сервисы и поймёте, сколько вы экономите.</li>
<li>Работает как в режиме поддержки (сказать код), так и в режиме удалённой работы (подключиться к рабочему компу из дома и работать).</li>
</ul>
<p>Чем мне понравилось это решение в режиме подключения для удалённой поддержки: пользователю нужно просто включить компьютер, всё. Ничего не надо скачивать, запускать, если компьютер настроен. Если он не настроен, можно подключиться в режиме поддержки и настроить (помучиться один раз).</p>
            </div>
            <div class="post_list">
                <a href="./author/konstantin-ovchinnikov.html">@Константин Овчинников</a> 
                <span class="post_date">Ср 24 марта 2021</span>
                <div><span>Теги: </span>
                            <span><a href="./tag/produktivnost.html">#продуктивность </a></span>
                            <span><a href="./tag/linux.html">#linux </a></span>
                            <span><a href="./tag/kovid.html">#ковид </a></span>
                </div>
            </div>
                <div class="comments">
                    <h2>Комментарии</h2>
                    <div id="disqus_thread"></div>
                    <script type="text/javascript">
                        var disqus_identifier = "2021-03-remote.html";
                        (function () {
                            var dsq = document.createElement('script');
                            dsq.type = 'text/javascript';
                            dsq.async = true;
                            dsq.src = 'https://realchanges.disqus.com/embed.js';
                            (document.getElementsByTagName('head')[0] ||
                            document.getElementsByTagName('body')[0]).appendChild(dsq);
                        })();
                    </script>
                </div>
        </article>
    </section>
</article>

<!-- Footer -->
    <footer>
        <p>
	  Создано с помощью <a href="http://getpelican.com/">Pelican</a>, 
      тема <a href="https://github.com/parbhat/pelican-blue">Pelican-Blue</a> от <a href="https://parbhatpuri.com/">@parbhat</a>, иконки с <a href="https://icons8.com/">icon8</a>. РФ 12+.
        </p>
    </footer>

    <!-- Analytics -->
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-44909202-3']);
        _gaq.push(['_trackPageview']);
        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>

</body>
</html>