<!doctype html>
<html lang="ru" itemscope itemtype="http://schema.org/Person">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta charset="utf-8">
  <!-- Site Meta Data -->
  <title>Блог в 2021-м</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="Константин Овчинников">

  <link rel="shortcut icon" href="/theme/images/logo3.ico">

  <!-- schema.org -->
  <meta itemprop="name" content="Настоящие изменения">
  <meta itemprop="image" content="/theme/images/logo3_small.png">
  <meta itemprop="description" content="">

  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,700' rel='stylesheet' type='text/css'>
  <!-- Style Meta Data -->
  <link rel="stylesheet" href="./theme/css/style.css" type="text/css" />
  <link rel="stylesheet" href="./theme/css/pygments.css" type="text/css" />

  <!-- Feed Meta Data -->
    <link href="./feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Настоящие изменения ATOM Feed" />

  <!-- Twitter Feed -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="ikostas2">
  <meta name="twitter:image" content="">

<meta name="twitter:creator" content="ikostas2">
<meta name="twitter:url" content="./20201-01-blog.html">
<meta name="twitter:title" content="Настоящие изменения ~ Блог в 2021-м">
<meta name="twitter:description" content="<p>Минимальная техническая основа современного блога</p>">

<!-- Facebook Meta Data -->
<meta property="og:title" content="Настоящие изменения ~ Блог в 2021-м" />
<meta property="og:description" content="<p>Минимальная техническая основа современного блога</p>" />
<meta property="og:image" content="" />
  <!-- Mailchimp -->
  <script id="mcjs">!function(c,h,i,m,p){m=c.createElement(h),p=c.getElementsByTagName(h)[0],m.async=1,m.src=i,p.parentNode.insertBefore(m,p)}(document,"script","https://chimpstatic.com/mcjs-connected/js/users/79df26f98af4a1236cc5c2731/b7dd636a9a29c8e6892d4ad29.js");</script>
  <link href="//cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel="stylesheet" type="text/css">
  </head>

<body>
  <!-- Sidebar -->
  <aside>
    <h1><a class="sitetitle" href=".">Настоящие изменения</a></h1>
      <p>Страница Константина Овчинникова</p>
    <p>
    <a href="."><img id="avatar" src="/theme/images/logo3_small.png"></a></p>
    	    <!-- Site search -->
<script async src="https://cse.google.com/cse.js?cx=83e5897c79a72ea3d"></script>
<div class="gcse-search"></div>


    <nav class="nav">
      <ul class="list-bare">
      
          <li><a class="nav__link" href="https://kovchinnikov.info">Блог</a></li>
          <li><a class="nav__link" href="https://kovchinnikov.info/tags.html">Темы записей блога</a></li>
         
          <li><a class="nav__link" href="./pages/main.html">Статьи и инструменты</a></li>
         
      </ul>
    </nav>

    <div class="social">
   <p>
        <a href="https://twitter.com/ikostas2" target="_blank" ><img src="./theme/images/icons/twitter.png"></a>
        <a href="https://facebook.com/bizrealchanges/" target="_blank" ><img src="./theme/images/icons/facebook.png"></a>
        <a href="https://www.linkedin.com/in/konstantinovchinnikov/" target="_blank" ><img src="./theme/images/icons/linkedin.png"></a>
        <a href="https://www.youtube.com/channel/UCSWV-jXlrnxIMbAD-82_USg" target="_blank" ><img src="./theme/images/icons/youtube.png"></a>
        <a href="https://news.google.com/publications/CAAqBwgKMNDclQsw0_6sAw?oc=3&ceid=RU:ru" target="_blank" ><img src="./theme/images/icons/googlenews.png"></a>
      <a href="./feeds/all.atom.xml" rel="alternate">
        <img src="./theme/images/icons/rss.png"></a>
	</p>
    </div>

  </aside>
  <!-- Content -->
  <article>
	  <!-- Begin Mailchimp Signup Form -->
<div id="mc_embed_signup" style="text-align:right">
<form action="https://kovchinnikov.us7.list-manage.com/subscribe/post?u=79df26f98af4a1236cc5c2731&amp;id=98179b5beb" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
	<label for="mce-EMAIL">Подпишитесь на новые статьи</label>
	<input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email" required>
    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_79df26f98af4a1236cc5c2731_98179b5beb" tabindex="-1" value=""></div>
    <div class="clear"><input type="submit" value="Подписаться" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
    </div>
</form>
</div>

<!--End mc_embed_signup-->
<section id="content">
    <article>
        <h2 class="post_title post_detail"><a href="./20201-01-blog.html" rel="bookmark" title="Постоянная ссылка на Блог в 2021-м">Блог в 2021-м</a></h2>
        <div class="entry-content blog-post">
            <p>Хочу на примере своего блога рассказать о минимальных компонентах, без которых современный блог уже сложно представить. С точки зрения технической основы можно взять самый популярный вариант, WordPress, тогда часть вещей реализуются через базовую фунциональность или плагины. У меня другая основа управления контентом, но это как раз и поможет разложить на составляющие функции блога:</p>
<ul>
<li>Управление контентом</li>
<li>Дизайн</li>
<li>Публикация</li>
<li>Социальные сети</li>
<li>Поиск</li>
<li>Комментарии</li>
<li>Подписка на обновления</li>
</ul>
<p>Поехали!</p>
<h2>Управление контентом</h2>
<p>Для управления контентом я выбрал генератор статических сайтов по нескольким причинам. Прежде всего, это гибкость, скорость работы и безопасность. У меня shared hosting, что предполагает очень ограниченные ресурсы веб-сервера, здесь и возникает проблема. Лично мне очень нравится drupal, но в руководстве хостинга ясно написано, что это достаточно ресурсоёмкий движок, для которого рекомендуется VPS, что несколько больше по деньгам. Если вы выбираете движок (то есть приложение на сервере), то даже с точки зрения безопасности (ну и для появления новых возможностей) его нужно обновлять, и для Drupal наиболее простой способ &ndash; drush. Пробовал его использовать, он просто вылетал именно из-за ограничения ресурсов.</p>
<p>В целом безопасность и связанная с ней необходимость обновления для меня были основными минусами движков блога на сервере. Для меня обновление &ndash; лишнее действие, при этом совсем не хочется в один момент обнаружить свой блог взломанным. Это вовсе не мифическая возможность, на хостинге установлена система безопасности, которая уже не раз срабатывала, и я находил заражённые файлы.</p>
<p>Ещё один важный нюанс: и VPS, и AWS требуют настройки и обновления операционной системы, а это тоже время. Итого, если взять только один критерий &ndash; требуемые затраты времени &ndash; shared hosting + статический генератор сайтов для небольшого блога выглядят наиболее предпочтительно. Но тут есть ещё один момент, скорость работы. Ведь для веб-сервера быстрее всего &ndash; выдавать набор HTML-файлов. А скорость работы &ndash; это ощущения пользователей от работы с сайтом.</p>
<p>Если выбирать среди генераторов статических сайтов, то основным требованием было большое количество стандартных функций и поддержка Markdown как языка разметки. Подробно выбор описывать не буду, по сути, приложения для создания статических сайтов лично для себя я расположил по шкале технической подготовленности пользователей. Как мне показалось, <a href="http://getpelican.com/">Pelican</a> создан для не очень подготовленных людей вроде меня, при этом имеет большой набор стандартных функций, внятную <a href="https://docs.getpelican.com/en/stable/index.html">документацию</a>, библиотеку <a href="http://www.pelicanthemes.com/">дизайнов</a> и <a href="https://github.com/getpelican/pelican-plugins">плагинов</a>. Опять же лично для меня набор настроек и команд для обновления сайта достаточно логичен. Если ошибиться в конфигурации, то в большинстве случаев Python, на котором написан Pelican, достаточно понятно сообщает об ошибке.</p>
<p>Стандартный процесс публикации опишу в разделе "Публикация" ниже, а пока перейдём к подбору дизайна.</p>
<h2>Дизайн</h2>
<p>Поскольку с приложением для создания сайта я уже определился, осталось подобрать дизайн. Как вы уже поняли, я склоняюсь к минимализму, а любимый цвет у меня &ndash; синий, что и определило выбор темы <a href="https://github.com/parbhat/pelican-blue">Pelican-blue</a>. Тема состоит из небольшого числа иконок, HTML- и CSS- файлов. Пришлось тряхнуть стариной и разобраться в HTML и CSS, чтобы подправить отдельные моменты, но в целом всё в пределах 3% доработок.</p>
<p>Есть момент именно для Pelican: темы несут разную функциональность, конкретно выбранная мной тема изначально была связана с Twitter, Facebook (как &ndash; чуть ниже) и предполагала ряд других настроек, которые мне были нужны. У каждой темы есть страница на GitHub, где описываются её настройки и возможности. Есть вариант установить все темы сразу и переключаться между ними, чтобы примерить на свой контент. Например, у вас больше или меньше разделов, или заголовки длиннее, и крупным шрифтом они будут некрасиво расползаться и т.п.</p>
<p>В целом тема дизайна достаточно сложная (особенно для тех, кто в нём плохо разбирается, вроде меня), поэтому на выбор темы уходит целый день. Потом читаешь книгу "Don't Make Me Think", хватаешься за голову и переделываешь. Из последних обновлений, например:</p>
<ul>
<li>Заголовок в левом верхнем углу теперь работает как ссылка на главную страницу</li>
<li>Страницы ведут только на контент на сайте, а все внешние ссылки сделаны иконками</li>
<li>В CSS исправлено выравнивание рисунков, иначе мобильный сайт работал откровенно криво</li>
<li>Заменил и добавил иконки социальных сетей с сайта <a href="https://icons8.com/">icon8</a></li>
<li>Поскольку записей блога накопилось достаточно много, добавил страницу с тегами (темами), но и они выведены не простым списком: размер шрифта определяется количеством публикаций по теме (больше публикаций &ndash; больше шрифт)</li>
</ul>
<p>Другими словами, даже если вы выбрали дизайн и доработали его напильником, придётся периодически к нему возвращаться.</p>
<h2>Публикация</h2>
<p>Сам процесс публикации выглядит примерно следующим образом:</p>
<ol>
<li>Сначала необходимо создать файл с Markdown-разметкой и достаточно специфическим заголовком, в котором определяется название, подзаголовок, теги и другие моменты. Для этого понадобится текстовый редактор с подсветкой Markdown-разметки, лично я пользуюсь Geany. До этого работал в vim, но постоянно переключаться между языками откровенно неудобно. После сохранения статьи проверяю правописание (aspell в моём случае).</li>
<li>Обновляем сайт, в случае с pelican понадобится команда make publish. Обновляются только изменённые и связанные страницы, поэтому это происходит достаточно быстро. На выходе все файлы складываются в каталог output. То, что получилось, я смотрю в браузере и вычитываю (пока сайт обновился только на моём компьютере).</li>
<li>Теперь нужно закинуть содержимое папки output на сервер. Какое-то время пользовался ftp, но затем стал использовать git, поскольку мой хостинг (Dreamhost) поддерживает такую возможность. Это позволяет не только обновлять только то, что изменилось, но и делать это очень быстро (передаются только изменения), а ещё сохраняется предыдущая версия. Например, если я меняю что-то в дизайне или структуре, есть возможность откатиться на предыдущую версию.</li>
</ol>
<p>Как вы можете видеть, я достаточно последователен в автоматизации. Когда я редактирую статью, я не хочу думать о дизайне, с одной стороны; с другой стороны, я могу вставить куски HTML-кода, если разметки мне не хватило. Когда я обновляю сайт, я не хочу сам выделять то, что изменилось. А ведение версий сайта спасает нервные клетки, даже если ничего страшного не произошло. </p>
<h2>Социальные сети</h2>
<p>Для публикации в социальных сетях требуется определённая информация в мета-тегах HTML, и это было встроено в дизайн. То есть на каждой странице содержимое этих тегов определяется содержанием страницы. Если бы я не выбрал этот дизайн, возможно, я бы этого и не узнал. Кроме этого, внизу страницы расположены кнопки "поделиться" (share), при нажатии на которые заполняется содержание твита / поста на Facebook или темы письма.</p>
<p>Для публикации обновлений сайта в Facebook, Twitter использую IFTTT. На вход IFTTT берёт RSS, который... встроен в дизайн. Работает всё хорошо, оперативно и переживает обновления страницы (например, когда я заметил ошибку после публикации).</p>
<p>Достаточно существенным новостным каналом стал Google News. Здесь эпопея длилась несколько месяцев, поскольку подтверждение сайта длится долго (несколько недель). Но в целом они пишут достаточно понятно, что им нужно, например:</p>
<ul>
<li>Лого сайта должно соответствовать лого в Google News</li>
<li>Для РФ должна быть указана возрастная категория, у меня это 12+ внизу страницы</li>
<li>Нужно определить регион и выбрать категории тем для этого региона</li>
</ul>
<p>Опять же, Google News берёт новые страницы из RSS. Также в качестве картинки к статье Google News берёт первую картинку в статье. Выглядит всё достаточно прилично, элементы форматирования (выделение жирным, например) сохраняются.</p>
<h2>Поиск</h2>
<p>Собственный поиск на сайте может быть болью, если не умеет работать с морфологией (изменённой формой слова) либо искать по части слова. Но у меня статические HTML файлы, поэтому я выбрал <a href="https://cse.google.com/cse/all">поиск Google</a>. Он открывается во внешнем окне и впихивает по пять рекламных ссылок в начало. Зато он работает с морфологией, честно индексирует все страницы, хорошо встраивается в дизайн (в том числе, в дизайн мобильной версии сайта). </p>
<h2>Комментарии</h2>
<p>Динамический сайт может иметь свою систему комментариев, но тут возникают вопросы: разрешать анонимные комментарии или нет, модерировать или нет, как делать авторизацию. Часть этих проблем решают внешние системы комментирования, но они платные. Среди них выгодно выделяется Disqus, у которого есть бесплатный (рекламный) тариф. При этом он сразу поддерживает:</p>
<ul>
<li>авторизацию из социальных сетей и собственную авторизацию</li>
<li>рекомендовать, твитнуть, поделиться в Facebook</li>
<li>подписаться по почте на новые комментарии к статье </li>
</ul>
<h2>Подписка на обновления</h2>
<p>До недавнего времени я использовал почтовую рассылку Google Groups, куда раз в неделю высылал обновления. Казалось бы, всё просто работает. В чём проблема здесь:</p>
<ul>
<li>Требует аккаунт Google</li>
<li>Достаточно архаичный дизайн писем и страниц</li>
<li>Не сделаешь встроенную на сайт форму подписки</li>
</ul>
<p>Эти проблемы решает большое количество сервисов, среди которых одним из лидеров является (остаётся) Mailchimp. И теперь можно подписаться с минимальным количеством усилий вверху каждой страницы. В бесплатный тариф входит 2000 адресов и одна аудитория, чего мне пока хватает. Как и средств дизайна рассылки в HTML, поэтому теперь рассылка выглядит намного приятнее.</p>
<p>Почему нужна подписка на обновления? Реакция на рассылку по почте по-прежнему в разы выше, чем на публикации в социальных сетях.</p>
<p>К функциональным возможностям мне рекомендовали добавить канал в Telegram или VK, но... Скажем так, пока я к этому не пришёл. Как и к однообразным картинкам "неизвестные мне люди с (не)умным выражением лица" к каждой новой записи.</p>
<p>Пишите о том, чего вам не хватает в моём блоге, или какие возможности современного блога я упускаю. Возможно, у вас есть предложения по дизайну &ndash; буду премного благодарен.</p>
<p>Поскольку это первая запись 2021-го года, всем успехов в новом году! У меня для вас заготовлено несколько интересных тем на ближайшее время. Подписывайтесь на богомерзкий Google News (иконка в меню слева) или православную рассылку (в почте вверху страницы).</p>
<p>Большое спасибо <a href="https://www.facebook.com/aigullittlea.igembaeva">Айгуль</a> за массу предложений по улучшению сайта и за моральную поддержку.</p>
        </div>
        <div class="post_list">
            <a href="./author/konstantin-ovchinnikov.html">@Константин Овчинников</a> 
            <span class="post_date">Сб 02 января 2021</span>
            <div><span>Теги: </span>
                <span><a href="./tag/blog.html">#блог </a></span>
                <span><a href="./tag/dnevnik.html">#дневник </a></span>
            </div>

            <div class="entry-social">
                <span class="twitter"><a target="_blank" rel="nofollow" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=400,width=700');return false;" title="Twitter" href="https://twitter.com/share?url=./20201-01-blog.html&text=Блог в 2021-м&via=ikostas2"><img src="./theme/images/icons/twitter-s.png"></a></span>
                
		<span class="facebook"><a target="_blank" title="Facebook" rel="nofollow" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=500,width=700');return false;" href="https://www.facebook.com/sharer.php?u=./20201-01-blog.html&t=Блог в 2021-м"><img src="./theme/images/icons/facebook-s.png"></a></span>

                <a  target="_blank" title="Linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=./20201-01-blog.html&title=Блог в 2021-м" rel="nofollow" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=650');return false;"><img src="./theme/images/icons/linkedin-s.png"></a>

                <span class="mail"><a href="mailto:?subject=Блог в 2021-м&amp;body=Статья [Блог в 2021-м]. ./20201-01-blog.html" title="Отправить по почте" target="_blank"><img src="./theme/images/icons/mail-s.png"></a></span>
            </div>
        </div>
        <div class="comments">
            <h2>Комментарии</h2>
            <div id="disqus_thread"></div>
            <script type="text/javascript">
            var disqus_identifier = "20201-01-blog.html";
            (function() {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = 'https://realchanges.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] ||
                 document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
            </script>
        </div>
    </article>
</section>
  </article>

  <!-- Footer -->
  <footer>
    <p>
      Создано с помощью <a href="http://getpelican.com/">Pelican</a>, 
      тема <a href="https://github.com/parbhat/pelican-blue">Pelican-Blue</a> от <a href="https://parbhatpuri.com/">@parbhat</a>, иконки с <a href="https://icons8.com/">icon8</a>. РФ 12+.
    </p>
  </footer>

  <!-- Analytics -->
  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-44909202-3']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  </script>

</body>
</html>